# Plan 01-02: Create Categorization Document

## Goal

Create the authoritative `PIPELINE_CATEGORIZATION.md` document that guides all Phase 2 file movements.

## Context

After Plan 01-01 completes the analysis, this plan synthesizes the decisions into a formal categorization document that will be used by Phase 2 to physically reorganize the repository.

## Prerequisites

- Plan 01-01 completed
- `.planning/phases/01-pipeline-categorization/PIPELINE_ANALYSIS.md` exists with all decisions

## Tasks

### Task 1: Create Document Structure
- [ ] Create `PIPELINE_CATEGORIZATION.md` at repo root
- [ ] Add header with purpose and usage instructions
- [ ] Add date stamp and author

### Task 2: Write Canonical Section
- [ ] List all canonical pipelines with:
  - File path
  - Purpose (1-2 sentences)
  - Key result (e.g., "d=-3.56, p<10⁻⁶")
  - Target location: `src/pipelines/canonical/<filename>.py`
- [ ] Explain: These pipelines reproduce the paper's core findings

### Task 3: Write Discovery Section
- [ ] List all discovery pipelines with:
  - File path
  - Purpose
  - When to use
  - Target location: `src/pipelines/discovery/<filename>.py`
- [ ] Explain: These are methodology tools for finding circuits in new models

### Task 4: Write Archive Section
- [ ] List all archive pipelines with:
  - File path
  - Reason for archival
  - Target location: `src/pipelines/archive/<filename>.py`
- [ ] Explain: Historical record, not for active use

### Task 5: Write Infrastructure Section
- [ ] List infrastructure files that stay in place:
  - `registry.py`
  - `run.py`
  - `__init__.py`
- [ ] Explain: These are not moved, they orchestrate the others

### Task 6: Document Exclusions
- [ ] Note files NOT being categorized:
  - `runpod_sync_*/` - deployment artifacts
  - `boneyard/` - already archived
  - `SUBSYSTEM_2D_MAP_COMPLETION/` - separate subsystem
- [ ] Rationale for each exclusion

### Task 7: Add Summary Statistics
- [ ] Count by category:
  - Canonical: N pipelines
  - Discovery: N pipelines
  - Archive: N pipelines
  - Infrastructure: N files
  - Excluded: N files
  - Total: 59 files accounted for

### Task 8: Add Phase 2 Instructions
- [ ] Clear instructions for Phase 2 execution:
  1. Create directory structure
  2. Move files in order (canonical first)
  3. Update imports
  4. Run tests to verify nothing broke
- [ ] Link to Phase 2 plans

### Task 9: Final Review
- [ ] Verify every file from 01-01 analysis is categorized
- [ ] Check no duplicates or omissions
- [ ] Verify paths are correct
- [ ] Cross-reference with AUDIT.md pipeline list

## Outputs

1. `PIPELINE_CATEGORIZATION.md` at repo root - authoritative categorization
2. Updated `.planning/phases/01-pipeline-categorization/PIPELINE_ANALYSIS.md` with any refinements

## Document Format

```markdown
# Pipeline Categorization

## Purpose
This document categorizes all 59 pipeline files for Phase 2 reorganization.

## Decision Criteria
- **Canonical**: Required to reproduce paper findings
- **Discovery**: Methodology tools for new model exploration
- **Archive**: Historical/superseded/dead-end code

## Canonical Pipelines (N files)
| File | Purpose | Key Result | New Location |
|------|---------|------------|--------------|
| ... | ... | ... | ... |

## Discovery Pipelines (N files)
...

## Archive Pipelines (N files)
...

## Infrastructure (stays in place)
...

## Exclusions
...

## Summary
...

## Phase 2 Instructions
...
```

## Success Criteria

- Every pipeline file has exactly one category
- Document is clear enough that Phase 2 can execute without questions
- Summary statistics match actual file counts
- No ambiguity in target locations

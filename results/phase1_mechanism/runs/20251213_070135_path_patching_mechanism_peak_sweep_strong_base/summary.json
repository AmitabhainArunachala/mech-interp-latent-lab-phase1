{
  "artifacts": {
    "csv": "results/phase1_mechanism/runs/20251213_070135_path_patching_mechanism_peak_sweep_strong_base/path_patching_mechanism.csv"
  },
  "by_component": {
    "resid": {
      "none": {
        "mean": 0.6245420082179466,
        "n": 2160.0,
        "std": 0.0939737560848008
      },
      "opposite": {
        "mean": 0.45250567836868977,
        "n": 2160.0,
        "std": 0.1460769230565601
      },
      "random": {
        "mean": 1.2063786121815208,
        "n": 2160.0,
        "std": 0.5187572060903218
      },
      "recursive": {
        "mean": 0.5148438234226923,
        "n": 2160.0,
        "std": 0.10611452725782991
      },
      "shuffled": {
        "mean": 0.5127587985583513,
        "n": 2160.0,
        "std": 0.10702119295573688
      },
      "wrong_layer": {
        "mean": 0.511134167755474,
        "n": 360.0,
        "std": 0.06916012441507832
      }
    }
  },
  "by_component_by_window": {
    "resid": {
      "16": {
        "none": {
          "mean": 0.66888120597539,
          "n": 1080.0,
          "std": 0.06224718169613101
        },
        "opposite": {
          "mean": 0.4808508581373181,
          "n": 1080.0,
          "std": 0.14894741245427462
        },
        "random": {
          "mean": 1.0704030605384411,
          "n": 1080.0,
          "std": 0.3359939036398555
        },
        "recursive": {
          "mean": 0.5422902841307473,
          "n": 1080.0,
          "std": 0.10581646221735248
        },
        "shuffled": {
          "mean": 0.5404966647954043,
          "n": 1080.0,
          "std": 0.10668605220820415
        },
        "wrong_layer": {
          "mean": 0.542056165042104,
          "n": 180.0,
          "std": 0.06122433102557198
        }
      },
      "32": {
        "none": {
          "mean": 0.5802028104605031,
          "n": 1080.0,
          "std": 0.0992977017037089
        },
        "opposite": {
          "mean": 0.42416049860006144,
          "n": 1080.0,
          "std": 0.1374881511037204
        },
        "random": {
          "mean": 1.3423541638246004,
          "n": 1080.0,
          "std": 0.6233479027520658
        },
        "recursive": {
          "mean": 0.4873973627146373,
          "n": 1080.0,
          "std": 0.09912560342916886
        },
        "shuffled": {
          "mean": 0.4850209323212981,
          "n": 1080.0,
          "std": 0.09997783824333294
        },
        "wrong_layer": {
          "mean": 0.4802121704688442,
          "n": 180.0,
          "std": 0.06262208053095503
        }
      }
    }
  },
  "by_component_by_window_by_layer": {
    "resid": {
      "16": {
        "18": {
          "wrong_layer": {
            "mean": 0.542056165042104,
            "n": 180.0,
            "std": 0.06122433102557198
          }
        },
        "24": {
          "none": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "opposite": {
            "mean": 0.31497889819450814,
            "n": 180.0,
            "std": 0.026686600010852397
          },
          "random": {
            "mean": 1.0258324978651805,
            "n": 180.0,
            "std": 0.06779153876154854
          },
          "recursive": {
            "mean": 0.4849271123634526,
            "n": 180.0,
            "std": 0.053394163670478945
          },
          "shuffled": {
            "mean": 0.47893530883092156,
            "n": 180.0,
            "std": 0.05238446710037275
          }
        },
        "25": {
          "none": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "opposite": {
            "mean": 0.3677059384015065,
            "n": 180.0,
            "std": 0.02926014424875252
          },
          "random": {
            "mean": 1.1276884939321705,
            "n": 180.0,
            "std": 0.0656837715357091
          },
          "recursive": {
            "mean": 0.4795363939239157,
            "n": 180.0,
            "std": 0.05337221106474056
          },
          "shuffled": {
            "mean": 0.47651714071168466,
            "n": 180.0,
            "std": 0.052594339559834266
          }
        },
        "26": {
          "none": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "opposite": {
            "mean": 0.3899172576556416,
            "n": 180.0,
            "std": 0.039597856946893356
          },
          "random": {
            "mean": 1.415204107496709,
            "n": 180.0,
            "std": 0.08340168912070041
          },
          "recursive": {
            "mean": 0.47677514392486314,
            "n": 180.0,
            "std": 0.05288125946917445
          },
          "shuffled": {
            "mean": 0.4750245249677855,
            "n": 180.0,
            "std": 0.05260831767002025
          }
        },
        "27": {
          "none": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "opposite": {
            "mean": 0.4747406426214727,
            "n": 180.0,
            "std": 0.05301746371258831
          },
          "random": {
            "mean": 1.5159308519858081,
            "n": 180.0,
            "std": 0.09032742598905938
          },
          "recursive": {
            "mean": 0.4747406426214727,
            "n": 180.0,
            "std": 0.05301746371258831
          },
          "shuffled": {
            "mean": 0.47474060231125426,
            "n": 180.0,
            "std": 0.053017471565675246
          }
        },
        "28": {
          "none": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "opposite": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "random": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "recursive": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "shuffled": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          }
        },
        "29": {
          "none": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "opposite": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "random": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "recursive": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          },
          "shuffled": {
            "mean": 0.66888120597539,
            "n": 180.0,
            "std": 0.06239190912166659
          }
        }
      },
      "32": {
        "18": {
          "wrong_layer": {
            "mean": 0.4802121704688442,
            "n": 180.0,
            "std": 0.06262208053095503
          }
        },
        "24": {
          "none": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "opposite": {
            "mean": 0.2828673862304697,
            "n": 180.0,
            "std": 0.029971265466343246
          },
          "random": {
            "mean": 1.3197780377150516,
            "n": 180.0,
            "std": 0.10996130302605375
          },
          "recursive": {
            "mean": 0.44497814202355096,
            "n": 180.0,
            "std": 0.05791613370367795
          },
          "shuffled": {
            "mean": 0.4373983160689382,
            "n": 180.0,
            "std": 0.05665549380024395
          }
        },
        "25": {
          "none": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "opposite": {
            "mean": 0.3245206570534003,
            "n": 180.0,
            "std": 0.036506635439209685
          },
          "random": {
            "mean": 1.4773499630828701,
            "n": 180.0,
            "std": 0.13003951403626496
          },
          "recursive": {
            "mean": 0.4415148862029008,
            "n": 180.0,
            "std": 0.05815177006476581
          },
          "shuffled": {
            "mean": 0.4374094983740305,
            "n": 180.0,
            "std": 0.057420695265226994
          }
        },
        "26": {
          "none": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "opposite": {
            "mean": 0.33918101947622453,
            "n": 180.0,
            "std": 0.045746944031766025
          },
          "random": {
            "mean": 1.9379071246571193,
            "n": 180.0,
            "std": 0.1818929441405124
          },
          "recursive": {
            "mean": 0.43949721922109747,
            "n": 180.0,
            "std": 0.05783298622138076
          },
          "shuffled": {
            "mean": 0.4369239534148322,
            "n": 180.0,
            "std": 0.05723377253321633
          }
        },
        "27": {
          "none": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "opposite": {
            "mean": 0.4379883079192679,
            "n": 180.0,
            "std": 0.05767900266077675
          },
          "random": {
            "mean": 2.158684236571554,
            "n": 180.0,
            "std": 0.215569971020718
          },
          "recursive": {
            "mean": 0.4379883079192679,
            "n": 180.0,
            "std": 0.05767900266077675
          },
          "shuffled": {
            "mean": 0.43798820514898124,
            "n": 180.0,
            "std": 0.0576790792232416
          }
        },
        "28": {
          "none": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "opposite": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "random": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "recursive": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "shuffled": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          }
        },
        "29": {
          "none": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "opposite": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "random": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "recursive": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          },
          "shuffled": {
            "mean": 0.5802028104605033,
            "n": 180.0,
            "std": 0.09952857321206621
          }
        }
      }
    }
  },
  "device": "cuda",
  "experiment": "path_patching_mechanism",
  "model_name": "mistralai/Mistral-7B-v0.1",
  "n_rows": 11160,
  "params": {
    "components": [
      "resid"
    ],
    "early_layer": 5,
    "include_wrong_layer_control": true,
    "max_length": 512,
    "max_pairs": 80,
    "measurement_layer": 27,
    "n_repeats": 3,
    "pairing": {
      "baseline_groups": [
        "long_control",
        "baseline_creative",
        "baseline_math"
      ],
      "recursive_groups": [
        "L5_refined",
        "L4_full",
        "L3_deeper"
      ]
    },
    "patch_layers": [
      24,
      25,
      26,
      27,
      28,
      29
    ],
    "patch_types": [
      "none",
      "recursive",
      "shuffled",
      "opposite",
      "random"
    ],
    "target_layer": 27,
    "window": 16,
    "windows": [
      16,
      32
    ],
    "wrong_layer": 18
  }
}
